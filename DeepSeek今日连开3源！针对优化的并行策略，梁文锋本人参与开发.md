Title: DeepSeekä»Šæ—¥è¿å¼€3æºï¼é’ˆå¯¹ä¼˜åŒ–çš„å¹¶è¡Œç­–ç•¥ï¼Œæ¢æ–‡é”‹æœ¬äººå‚ä¸å¼€å‘

URL Source: https://mp.weixin.qq.com/s/GXIvj1omweDu3_DZjo6sVg

Markdown Content:
##### è¡¡å®‡ æ¢¦æ™¨ å‘è‡ª å‡¹éå¯º  
é‡å­ä½ | å…¬ä¼—å· QbitAI

æŒ‰æ—¶æ•´æ´»ï¼

DeepSeekå¼€æºå‘¨ç¬¬å››å¤©ï¼Œç›´æ¥ç—›å¿«ã€Œ**1æ—¥3è¿å‘**ã€ï¼Œä¸”å…¨éƒ½å›´ç»•ä¸€ä¸ªä¸»é¢˜ï¼š

**ä¼˜åŒ–å¹¶è¡Œç­–ç•¥**ã€‚

![Image 1](https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtB772Ezeh9qxnZkDkngMtzNMc5GdWDwibLtIcO14YWJC74CYRSOibKSZc1PHq7DLkAVBm8MvicHsS5xQ/640?wx_fmt=png&from=appmsg)

*   **DualPipeï¼š**ä¸€ç§åˆ›æ–°çš„åŒå‘æµæ°´çº¿å¹¶è¡Œç®—æ³•ï¼Œèƒ½å¤Ÿå®Œå…¨é‡å å‰å‘å’Œåå‘è®¡ç®—-é€šä¿¡é˜¶æ®µï¼Œå¹¶å‡å°‘â€œæµæ°´çº¿æ°”æ³¡â€ã€‚å®ƒé€šè¿‡å¯¹ç§°çš„å¾®æ‰¹æ¬¡è°ƒåº¦ï¼Œä¼˜åŒ–äº†å¹¶è¡Œè®¡ç®—æ•ˆç‡ã€‚
    
*   **Expert Parallelism Load Balancer**Â (EPLB)ï¼šç”¨äºMoEçš„è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œé€šè¿‡å¤åˆ¶é«˜è´Ÿè½½ä¸“å®¶å¹¶æ™ºèƒ½åœ°åˆ†é…ä¸“å®¶åˆ°ä¸åŒGPUä¸Šï¼Œç¡®ä¿è®¡ç®—èµ„æºçš„å‡è¡¡åˆ©ç”¨ã€‚å®ƒåŒ…å«ä¸¤ç§æ”¿ç­–ï¼šå±‚æ¬¡åŒ–è´Ÿè½½å‡è¡¡å’Œå…¨å±€è´Ÿè½½å‡è¡¡ã€‚
    
*   **Profiling Dataï¼š**è®­ç»ƒå’Œæ¨ç†æ¡†æ¶çš„æ€§èƒ½åˆ†ææ•°æ®ï¼Œå±•ç¤ºäº†é€šä¿¡-è®¡ç®—é‡å ç­–ç•¥å’Œåº•å±‚å®ç°ç»†èŠ‚ã€‚
    

![Image 2](https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtB772Ezeh9qxnZkDkngMtzNBicPkKMsuXTjq0BYU65rzXyjLREzXpBKwTpFtgam5TlKjzKSNWdAiayQ/640?wx_fmt=png&from=appmsg)

è¿™ä¸‰è€…ä¸­ï¼ŒDualPipeä»æ—¶é—´ä¸Šä¼˜åŒ–äº†è®¡ç®—ä¸é€šä¿¡çš„è°ƒåº¦ï¼ŒEPLBä»ç©ºé—´ä¸Šå¹³è¡¡åˆ©ç”¨è®¡ç®—èµ„æºï¼ŒProfiling Dataåˆ™æä¾›äº†å‰ä¸¤è€…åœ¨å®é™…åº”ç”¨ä¸­æ•ˆæœçš„å¯è§†åŒ–è¯æ®ã€‚

ä¸”**DualPipeçš„å¼€å‘å›¢é˜Ÿä¸­åŒ…æ‹¬æ¢æ–‡é”‹æœ¬äºº**ã€‚

![Image 3](https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtB772Ezeh9qxnZkDkngMtzNlXYU3rypY0MJFVqhtXjSwvhlibyfbvYaXsfw7rdgQO8eY4jDtZG3W5A/640?wx_fmt=png&from=appmsg)

å‘å¸ƒå10åˆ†é’Ÿä¸åˆ°ï¼Œ3è€…åœ¨GitHubä¸Šçš„æ˜Ÿæ ‡å·²ç»ç ´300äº†ï¼Œä¸”å…¶ä¸­DualPipeçš„æ˜Ÿæ ‡é£™å‡æœ€å¿«ã€‚

è€ŒDeepSeekä¸€å‘æ¨ï¼Œç½‘å‹çš„ç•™è¨€ä¹Ÿæ’å±±å€’æµ·ä¸€èˆ¬æ‰‘é¢è€Œæ¥ï¼Œå‡ ä¹éƒ½æ˜¯ä¸åæº¢ç¾ä¹‹è¯ï¼š

> å¥½æ´»ï¼ä»¤äººå…´å¥‹ï¼  
> ä¼˜åŒ–ç­–ç•¥å¯ä»¥é‡æ–°å®šä¹‰è¡Œä¸šçš„æ€§èƒ½ã€‚

![Image 4](https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtB772Ezeh9qxnZkDkngMtzNR5FHnQ3FYiav6mapnrRdbUEGCatC8mQMK3KAqAJwUESL0iciaH0vfHDgw/640?wx_fmt=png&from=appmsg)

Day 4ï¼Œç›´æ¥1æ—¥3è¿å‘
-------------

#### DualPipe

**DualPipeæ˜¯åœ¨DeepSeek-V3ä¸­é¦–æ¬¡å‡ºç°åŒå‘æµæ°´çº¿å¹¶è¡Œç®—æ³•ï¼Œç°åœ¨ä»£ç å®Œå…¨å¼€æºã€‚**

å®ƒå®ç°äº†å‰å‘ä¸åå‘è®¡ç®—-é€šä¿¡é˜¶æ®µçš„å®Œå…¨é‡å ï¼Œè¿˜å‡å°‘äº†æµæ°´çº¿æ°”æ³¡ï¼ˆå³æŸäº›è®¾å¤‡åœ¨æŸäº›æ—¶åˆ»ç©ºé—²ç­‰å¾…ï¼‰ã€‚

DualPipeé‡‡ç”¨äº†åŒå‘å¾®æ‰¹æ¬¡è°ƒåº¦ç­–ç•¥ï¼Œå…¶æ ¸å¿ƒç‰¹ç‚¹æ˜¯ï¼š

*   **å¯¹ç§°è®¾è®¡**ï¼šåå‘æ–¹å‘çš„å¾®æ‰¹æ¬¡ä¸å‰å‘æ–¹å‘å¯¹ç§°æ’åˆ—ï¼Œå½¢æˆä¸€ç§å‡ ä½•å¹³è¡¡çš„è°ƒåº¦ç»“æ„
    
*   **è®¡ç®—-é€šä¿¡é‡å **ï¼šä¸¤ä¸ªå…±äº«é»‘è‰²è¾¹æ¡†çš„å•å…ƒæ ¼è¡¨ç¤ºç›¸äº’é‡å çš„è®¡ç®—å’Œé€šä¿¡è¿‡ç¨‹
    
*   **åŒå‘å¹¶è¡Œ**ï¼šåŒæ—¶åœ¨ä¸¤ä¸ªæ–¹å‘ä¸Šæ¨è¿›å¾®æ‰¹æ¬¡ï¼Œæœ€å¤§åŒ–ç¡¬ä»¶åˆ©ç”¨ç‡
    

![Image 5](https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtB772Ezeh9qxnZkDkngMtzNNT3BQcmHMFY6hpuNwLU1mScydibAlDz0o9ibHPxic32NHLNKhz7U0QTOw/640?wx_fmt=png&from=appmsg)

ä¼ ç»Ÿæµæ°´çº¿å¹¶è¡Œæ–¹æ³•å¦‚1F1Bï¼ˆone-forward-one-backwardï¼‰åœ¨å¤„ç†å¤šGPUåœºæ™¯æ—¶ä¼šäº§ç”Ÿå¤§é‡æ°”æ³¡ã€‚

DualPipeé€šè¿‡é‡æ–°å®‰æ’å¾®æ‰¹æ¬¡æ‰§è¡Œé¡ºåºï¼Œå’Œå¯¹ç§°ç»“æ„ç¼“è§£è¿™ä¸ªé—®é¢˜ã€‚

![Image 6](https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtB772Ezeh9qxnZkDkngMtzNPSVWepvuW2SGicKwBBFyotD3Zdjia88Um2tS2f5mHE3b0gf7jzqsRS2A/640?wx_fmt=png&from=appmsg)

#### EPLB

**EPLBé€‚ç”¨äºV3/R1çš„ä¸“å®¶å¹¶è¡Œè´Ÿè½½å‡è¡¡å™¨ï¼Œè§£å†³MoEæ¨¡å‹åœ¨åˆ†å¸ƒå¼è®­ç»ƒå’Œæ¨ç†ä¸­çš„è´Ÿè½½ä¸å¹³è¡¡é—®é¢˜ã€‚**

åœ¨MoEæ¶æ„ä¸­ï¼Œä¸åŒçš„è¾“å…¥ä¼šæ¿€æ´»ä¸åŒçš„ä¸“å®¶ï¼Œå¯èƒ½å¯¼è‡´æŸäº›ä¸“å®¶è¿‡è½½ï¼Œè¿›ä¸€æ­¥é€ æˆä¸åŒGPUçš„åˆ©ç”¨ç‡ä¸å¹³è¡¡ã€‚

EPLB**é‡‡ç”¨â€œredundant expertsâ€**ï¼ˆå†—ä½™ä¸“å®¶ï¼‰**ç­–ç•¥**ï¼š

è¯†åˆ«é«˜è´Ÿè½½ä¸“å®¶â†’å¤åˆ¶å¤šä¸ªå‰¯æœ¬åˆ†é…åˆ°ä¸åŒGPUâ†’åœ¨æ¨ç†æ—¶åŠ¨æ€åˆ†é…è¾“å…¥åˆ°è´Ÿè½½è¾ƒè½»çš„ä¸“å®¶å‰¯æœ¬ã€‚

å¹¶å¸¦æœ‰ä¸¤ç§æ™®é€šçš„ç­–ç•¥ï¼š

*   **åˆ†å±‚è´Ÿè½½å¹³è¡¡**ï¼Œä¸“å®¶å¹¶è¡Œè¾ƒå°çš„é¢„å¡«å……é˜¶æ®µä½¿ç”¨ã€‚
    
*   **å…¨å±€è´Ÿè½½å¹³è¡¡**ï¼Œåœ¨ä¸“å®¶å¹¶è¡Œè§„æ¨¡è¾ƒå¤§çš„è§£ç é˜¶æ®µé‡‡ç”¨ã€‚
    

![Image 7](https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtB772Ezeh9qxnZkDkngMtzNic1ddPdF4HY0xJ6Nl4oNsfibrV6Gv6kwBxSzTzdmMovB8gCgyHFicQGdA/640?wx_fmt=png&from=appmsg)

#### V3/R1ä¸­çš„è®¡ç®—é€šä¿¡é‡å åˆ†ææ•°æ®

å¼€æºç¬¬å››å¼¹çš„part 3ï¼ŒDeepSeek**å…¬å¼€åˆ†äº«äº†æ¥è‡ªè®­ç»ƒå’Œæ¨ç†æ¡†æ¶çš„åˆ†ææ•°æ®ï¼Œä»¥å¸®åŠ©ç¤¾åŒºæ›´å¥½åœ°äº†è§£é€šä¿¡è®¡ç®—é‡å ç­–ç•¥å’Œä½çº§å®ç°ç»†èŠ‚**ã€‚

GitHubä¸Šæ³¨æ˜ï¼Œåˆ†ææ•°æ®æ˜¯ä½¿ç”¨PyTorch Profileræ•è·çš„ã€‚

ä¸‹è½½åï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡å¯¼èˆªåˆ°Chromeæµè§ˆå™¨ä¸­çš„chrome://tracingï¼ˆæˆ–Edgeæµè§ˆå™¨ä¸­çš„edge://tracingï¼‰å°†å®ƒè¿›è¡Œå¯è§†åŒ–ã€‚

Attention pleaseâ€”â€”DeepSeekæ¨¡æ‹Ÿäº†ä¸€ä¸ªç»å¯¹å¹³è¡¡çš„MoEè·¯ç”±ç­–ç•¥è¿›è¡Œåˆ†æã€‚

**é¦–å…ˆï¼Œè®­ç»ƒé˜¶æ®µã€‚**

è®­ç»ƒé…ç½®æ–‡ä»¶æ•°æ®æ¼”ç¤ºäº†DeepSeekåœ¨DualPipeä¸­ï¼Œå¯¹ä¸€å¯¹å•ç‹¬çš„å‘å‰å’Œå‘åæ•°æ®å—çš„é‡å ç­–ç•¥ã€‚

æ¯ä¸ªæ•°æ®å—åŒ…å«4ä¸ªMoE å±‚ã€‚

å¹¶è¡Œé…ç½®ä¸DeepSeek-V3é¢„è®­ç»ƒè®¾ç½®ä¸€è‡´EP64ã€TP1å…·æœ‰4Kåºåˆ—é•¿åº¦ã€‚

ä¸ºç®€å•èµ·è§ï¼Œåœ¨profilngæœŸé—´ä¸åŒ…æ‹¬PPé€šä¿¡ã€‚

![Image 8](https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtB772Ezeh9qxnZkDkngMtzNiaTdjriczn8GetwLhksPTJNxkFddp7Rm8XEGdwvnzhf69QzHHb1aNo9g/640?wx_fmt=png&from=appmsg)

**å…¶æ¬¡ï¼Œæ¨ç†é˜¶æ®µã€‚**

**1ï¼‰é¢„å¡«å……ã€‚**

**å¯¹äºé¢„å¡«å……ï¼Œé…ç½®æ–‡ä»¶ä½¿ç”¨EP32å’ŒTP1**ï¼ˆä¸DeepSeek V3/R1çš„å®é™…åœ¨çº¿éƒ¨ç½²ä¸€è‡´ï¼‰**ï¼Œæç¤ºé•¿åº¦è®¾ç½®ä¸º4Kï¼Œæ¯ä¸ªGPUçš„æ‰¹é‡å¤§å°ä¸º16Ktokensã€‚**

åœ¨é¢„å¡«å……é˜¶æ®µï¼ŒDeepSeekåˆ©ç”¨ä¸¤ä¸ªå¾®æ‰¹æ¬¡æ¥é‡å è®¡ç®—å’Œå¤šå¯¹å¤šé€šä¿¡ï¼ŒåŒæ—¶ç¡®ä¿æ³¨æ„åŠ›è®¡ç®—è´Ÿè½½åœ¨ä¸¤ä¸ªå¾®æ‰¹æ¬¡ä¹‹é—´å¹³è¡¡

â€”â€”è¿™æ„å‘³ç€ç›¸åŒçš„æç¤ºå¯ä»¥åœ¨å®ƒä»¬ä¹‹é—´åˆ†é…ã€‚

**2ï¼‰è§£ç ã€‚**

ï¼ˆæ³¨ï¼šç›¸å…³æ•°æ®å°šæœªå‡†å¤‡å°±ç»ªï¼Œå°†äºç¨åå‘å¸ƒï¼‰

**è§£ç æ–¹é¢ï¼Œè¯¥é…ç½®æ–‡ä»¶é‡‡ç”¨äº†EP128ã€TP1å’Œ4Kçš„æç¤ºé•¿åº¦**ï¼ˆä¸å®é™…åœ¨çº¿éƒ¨ç½²é…ç½®éå¸¸åŒ¹é…ï¼‰**ï¼Œæ¯ä¸ªGPUçš„æ‰¹é‡å¤§å°ä¸º128ä¸ªè¯·æ±‚ã€‚**

ä¸é¢„å¡«å……ç±»ä¼¼ï¼Œè§£ç è¿˜åˆ©ç”¨ä¸¤ä¸ªå¾®æ‰¹å¤„ç†è¿›è¡Œé‡å è®¡ç®—å’Œå¤šå¯¹å¤šé€šä¿¡ã€‚

ä½†ä¸é¢„å¡«å……ä¸åŒçš„æ˜¯ï¼Œè§£ç æœŸé—´çš„all-to-allé€šä¿¡ä¸ä¼šå ç”¨GPU SMï¼š

å‘å‡ºRDMAæ¶ˆæ¯åï¼Œæ‰€æœ‰GPU SMéƒ½ä¼šè¢«é‡Šæ”¾ï¼Œç³»ç»Ÿåœ¨è®¡ç®—å®Œæˆåç­‰å¾…all-to-allé€šä¿¡å®Œæˆã€‚

æœ‰å…³all-to-allå®ç°çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒå¼€æºå‘¨ç¬¬äºŒå¼¹DeepEPã€‚

![Image 9](https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtB772Ezeh9qxnZkDkngMtzN5wicm95ltEYLA43dg2CMnIWribT2M9I6acTIr0u4CPic4sJ0ZRx6Ua9Pg/640?wx_fmt=png&from=appmsg)

One More Thing
--------------

**â€œå¤§æ”¾å¼‚å½©ï¼â€**

å¯¹äºç¬¬å››å¼¹çš„å¼€æºå†…å®¹ï¼Œç½‘å‹æ˜¯è¿™ä¹ˆæ„Ÿæ…¨çš„ã€‚

![Image 10](https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtB772Ezeh9qxnZkDkngMtzNI7oGnmQ31biaKpCDBj2cXTq84RrFjRS2N8fQUJ3cYBhLOmrKFWbOC5Q/640?wx_fmt=png&from=appmsg)

ç›®å‰çœ‹æ¥ï¼ŒDeepSeekå¼€æºå‘¨çš„å‰4å¤©ï¼Œéƒ½æŒºä»¤è¿½æ›´ç¾¤ä¼—ä»¬æ»¡æ„ã€‚

å°¤å…¶æ˜¯è¿™æ¬¡å¼€æºå‘¨å…¨éƒ¨ç„å‡†å¤§æ¨¡å‹çš„Infraå±‚ã€‚

è¿½æ›´çœ‹å®¢ä»¬è¡¨ç¤ºï¼š

> æ›´å¥½çš„å›¢é˜Ÿåˆä½œä¸ä»…æ˜¯å›¢é˜Ÿç®¡ç†ä¼˜åŒ–çš„ä¸€éƒ¨åˆ†ï¼Œæ›´æ˜¯å®ç°é¡¶çº§AIæ€§èƒ½çš„ç§˜è¯€ã€‚  
> **DeepSeekæ­£åœ¨åˆ›å»ºæ–°çš„æ ‡å‡†ï¼Œå¤§è§„æ¨¡è®­ç»ƒçš„æœªæ¥å°±åœ¨å’±ä»¬çœ¼å‰ï¼**

![Image 11](https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtB772Ezeh9qxnZkDkngMtzN4WgYfHPozpXhX4ZGuOazIOmgQwzZW5icu3LogmCG5iboPOXhd6bxLhbQ/640?wx_fmt=png&from=appmsg)

å¥½äº†ï¼ŒDeepSeekå¼€æºå‘¨ï¼Œæ˜å¤©å°±æ˜¯æœ€åä¸€å¤©äº†ï¼Œä¸çŸ¥é“ä¼šæœ‰ä»€ä¹ˆå‹è½´ç™»åœºï¼Ÿ

**æ‰«ç å¤‡æ³¨ã€ŒDeepSeek-èŒä¸š/å§“åã€åŠ å…¥ç¾¤èŠï¼Œä¸€èµ·ç¬¬ä¸€æ—¶é—´ç›´å‡»DeepSeekå¼€æºå‘¨æœ€åä¸€å¼¹ï¼**

![Image 12](https://mmbiz.qpic.cn/mmbiz_png/YicUhk5aAGtB772Ezeh9qxnZkDkngMtzN5IZwwSk237ghnP41PNWd3JePjB5AZmfoZTfpBj6TdfYAYk7KELnRhw/640?wx_fmt=png&from=appmsg)

å‚è€ƒé“¾æ¥ï¼š  
https://x.com/deepseek\_ai/status/1894931931554558199

Githubï¼š  
\[1\]https://github.com/deepseek-ai/DualPipe  
\[2\]https://github.com/deepseek-ai/eplb  
\[3\]https://github.com/deepseek-ai/profile-data

â€” **å®Œ** â€”

**è¯„é€‰æŠ¥å**ï½œ**2025å¹´å€¼å¾—å…³æ³¨çš„****AIGCä¼ä¸š&äº§å“**

ä¸‹ä¸€ä¸ªAIâ€œå›½äº§ä¹‹å…‰â€å°†ä¼šæ˜¯è°ï¼Ÿ

æœ¬æ¬¡è¯„é€‰ç»“æœå°†äº4æœˆä¸­å›½AIGCäº§ä¸šå³°ä¼šä¸Šå…¬å¸ƒï¼Œæ¬¢è¿å‚ä¸ï¼

![Image 13](https://mmbiz.qpic.cn/mmbiz_jpg/YicUhk5aAGtDOJdMKlbT7SAFy8PrIQYibc1yia0TeaadXf1qCNK0X1jadicub9IBtYX4OaBVLCCuibtcjsO7V3GHkjw/640?wx_fmt=jpeg&from=appmsg)

**ä¸€é”®å…³æ³¨ ğŸ‘‡ ç‚¹äº®æ˜Ÿæ ‡**

**ç§‘æŠ€å‰æ²¿è¿›å±•æ¯æ—¥è§**

**ä¸€é”®ä¸‰è¿****ã€Œç‚¹èµã€ã€Œè½¬å‘ã€ã€Œå°å¿ƒå¿ƒã€**

**æ¬¢è¿åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ çš„æƒ³æ³•ï¼**
